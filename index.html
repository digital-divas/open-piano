<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <link rel="manifest" href="manifest.json" />
</head>

<body>
    <script>
        if ("serviceWorker" in navigator) {
            window.addEventListener("load", async () => {
                try {
                    const registration = await navigator.serviceWorker.register('/open-piano/sw.js', { scope: '/open-piano/' });

                    registration.onupdatefound = () => {
                        const installingWorker = registration.installing;
                        if (installingWorker == null) {
                            return;
                        }
                        installingWorker.onstatechange = () => {
                            if (installingWorker.state === "installed") {
                                if (navigator.serviceWorker.controller) {
                                    // At this point, the updated precached content has been fetched,
                                    // but the previous service worker will still serve the older
                                    // content until all client tabs are closed.
                                    console.log(
                                        "New content is available and will be used when all " +
                                        "tabs for this page are closed. See https://cra.link/PWA."
                                    );
                                } else {
                                    console.log("Content is cached for offline use.");
                                }
                            }
                        };
                    };
                } catch (err) {
                    console.log(err);
                }
            });
        } else {
            console.error("Your browser doesn't support service-worker.");
        }
    </script>
    <script src="node_modules/simple-peer/simplepeer.min.js"></script>
    <script src="index.js" type="application/javascript"></script>

    <canvas id="piano" width="1125" height="165"></canvas>

    <canvas id="sheets" width="1125" height="600"></canvas>

    <button onclick="server()">Server</button>
    <button onclick="join()">Join</button>
    <textarea id="sdp-info" disabled></textarea>
</body> -->


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub page as PWA template</title>
    <link rel="canonical" href="https://digital-divas.github.io/open-piano/" />
    <link rel="manifest" href="/open-piano/manifest.json" />
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <h1>GitHub page as PWA template</h1>
    <p>
        This is a PWA template for GitHub pages.
        Make sure to check the README at
        <a href="https://github.com/digital-divas/open-piano/">https://github.com/digital-divas/open-piano/</a> and
        to change the necessary settings to your needs.
    </p>

    <script>
        if (navigator.serviceWorker) {
            navigator.serviceWorker.register(
                '/open-piano/sw.js',
                { scope: '/open-piano/' }
            );
        }
    </script>

    <script src="node_modules/simple-peer/simplepeer.min.js"></script>
    <script src="index.js" type="application/javascript"></script>
    <canvas id="piano" width="1125" height="165"></canvas>

    <canvas id="sheets" width="1125" height="600"></canvas>
    <button onclick="server()">Server</button>
    <button onclick="join()">Join</button>
    <textarea id="sdp-info" disabled></textarea>
</body>

</html>